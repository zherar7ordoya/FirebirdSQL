/* SQL Manager Lite for InterBase and Firebird 6.2.2.58804 */
/* ------------------------------------------------------- */
/* Host     : localhost                                    */
/* Database : C:\Firebird\Data\W3SCHOOLS.FDB               */


CREATE DATABASE 'localhost/3050:C:\Firebird\Data\W3SCHOOLS.FDB'
  USER 'SYSDBA'
  PAGE_SIZE = 16384
  DEFAULT CHARACTER SET UTF8
  COLLATION UTF8;

/* Definition for the `RDB$TIME_ZONE_UTIL` package :  */

SET TERM ^ ;

CREATE PACKAGE RDB$TIME_ZONE_UTIL AS
^

SET TERM ; ^

SET TERM ^ ;

CREATE PACKAGE BODY RDB$TIME_ZONE_UTIL AS
^

SET TERM ; ^

/* Definition for the `RDB$PROFILER` package :  */

SET TERM ^ ;

CREATE PACKAGE RDB$PROFILER AS
^

SET TERM ; ^

SET TERM ^ ;

CREATE PACKAGE BODY RDB$PROFILER AS
^

SET TERM ; ^

/* Definition for the `RDB$BLOB_UTIL` package :  */

SET TERM ^ ;

CREATE PACKAGE RDB$BLOB_UTIL AS
^

SET TERM ; ^

SET TERM ^ ;

CREATE PACKAGE BODY RDB$BLOB_UTIL AS
^

SET TERM ; ^

/* Structure for the `SUPPLIERS` table :  */

CREATE TABLE SUPPLIERS (
  SUPPLIERID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1) NOT NULL,
  SUPPLIERNAME VARCHAR(255),
  CONTACTNAME VARCHAR(255),
  ADDRESS VARCHAR(255),
  CITY VARCHAR(100),
  POSTALCODE VARCHAR(20),
  COUNTRY VARCHAR(100),
  PHONE VARCHAR(50));


ALTER TABLE SUPPLIERS ADD PRIMARY KEY (SUPPLIERID);

/* Structure for the `SHIPPERS` table :  */

CREATE TABLE SHIPPERS (
  SHIPPERID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1) NOT NULL,
  SHIPPERNAME VARCHAR(255),
  PHONE VARCHAR(50));


ALTER TABLE SHIPPERS ADD PRIMARY KEY (SHIPPERID);

/* Structure for the `EMPLOYEES` table :  */

CREATE TABLE EMPLOYEES (
  EMPLOYEEID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1) NOT NULL,
  "LASTNAME" VARCHAR(100),
  "FIRSTNAME" VARCHAR(100),
  BIRTHDATE DATE,
  PHOTO VARCHAR(255),
  NOTES BLOB SUB_TYPE 1);


ALTER TABLE EMPLOYEES ADD PRIMARY KEY (EMPLOYEEID);

/* Structure for the `CUSTOMERS` table :  */

CREATE TABLE CUSTOMERS (
  CUSTOMERID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1) NOT NULL,
  CUSTOMERNAME VARCHAR(255),
  CONTACTNAME VARCHAR(255),
  ADDRESS VARCHAR(255),
  CITY VARCHAR(100),
  POSTALCODE VARCHAR(20),
  COUNTRY VARCHAR(100));


ALTER TABLE CUSTOMERS ADD PRIMARY KEY (CUSTOMERID);


CREATE INDEX IDX_CUSTOMERS_COUNTRY ON CUSTOMERS(COUNTRY);

/* Structure for the `CATEGORIES` table :  */

CREATE TABLE CATEGORIES (
  CATEGORYID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1) NOT NULL,
  CATEGORYNAME VARCHAR(255),
  DESCRIPTION VARCHAR(500));


ALTER TABLE CATEGORIES ADD PRIMARY KEY (CATEGORYID);

/* Structure for the `PRODUCTS` table :  */

CREATE TABLE PRODUCTS (
  PRODUCTID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1) NOT NULL,
  PRODUCTNAME VARCHAR(255),
  SUPPLIERID INTEGER,
  CATEGORYID INTEGER,
  UNIT VARCHAR(50),
  PRICE DECIMAL(10, 2));


ALTER TABLE PRODUCTS ADD PRIMARY KEY (PRODUCTID);


CREATE INDEX IDX_PRODUCTS_CATEGORYID ON PRODUCTS(CATEGORYID);

CREATE INDEX IDX_PRODUCTS_SUPPLIERID ON PRODUCTS(SUPPLIERID);

/* Structure for the `ORDERS` table :  */

CREATE TABLE ORDERS (
  ORDERID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1) NOT NULL,
  CUSTOMERID INTEGER,
  EMPLOYEEID INTEGER,
  ORDERDATE DATE,
  SHIPPERID INTEGER);


ALTER TABLE ORDERS ADD PRIMARY KEY (ORDERID);


CREATE INDEX IDX_ORDERS_CUSTOMERID ON ORDERS(CUSTOMERID);

CREATE INDEX IDX_ORDERS_EMPLOYEEID ON ORDERS(EMPLOYEEID);

CREATE INDEX IDX_ORDERS_SHIPPERID ON ORDERS(SHIPPERID);

/* Structure for the `ORDERDETAILS` table :  */

CREATE TABLE ORDERDETAILS (
  ORDERDETAILID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1) NOT NULL,
  ORDERID INTEGER,
  PRODUCTID INTEGER,
  QUANTITY INTEGER);


ALTER TABLE ORDERDETAILS ADD PRIMARY KEY (ORDERDETAILID);


CREATE INDEX IDX_ORDERDETAILS_ORDERID ON ORDERDETAILS(ORDERID);

CREATE INDEX IDX_ORDERDETAILS_PRODUCTID ON ORDERDETAILS(PRODUCTID);

/* Structure for the `ORDERDETAILS` table :  */

ALTER TABLE ORDERDETAILS ADD FOREIGN KEY (ORDERID) REFERENCES ORDERS(ORDERID);

ALTER TABLE ORDERDETAILS ADD FOREIGN KEY (PRODUCTID) REFERENCES PRODUCTS(PRODUCTID);

/* Structure for the `ORDERS` table :  */

ALTER TABLE ORDERS ADD FOREIGN KEY (CUSTOMERID) REFERENCES CUSTOMERS(CUSTOMERID);

ALTER TABLE ORDERS ADD FOREIGN KEY (EMPLOYEEID) REFERENCES EMPLOYEES(EMPLOYEEID);

ALTER TABLE ORDERS ADD FOREIGN KEY (SHIPPERID) REFERENCES SHIPPERS(SHIPPERID);

/* Structure for the `PRODUCTS` table :  */

ALTER TABLE PRODUCTS ADD FOREIGN KEY (SUPPLIERID) REFERENCES SUPPLIERS(SUPPLIERID);

ALTER TABLE PRODUCTS ADD FOREIGN KEY (CATEGORYID) REFERENCES CATEGORIES(CATEGORYID);

/* Privileges for the `CATEGORIES` :  */


GRANT SELECT, INSERT, DELETE, REFERENCES, UPDATE ON CATEGORIES TO SYSDBA WITH GRANT OPTION;


/* Privileges for the `CUSTOMERS` :  */


GRANT SELECT, INSERT, DELETE, REFERENCES, UPDATE ON CUSTOMERS TO SYSDBA WITH GRANT OPTION;


/* Privileges for the `EMPLOYEES` :  */


GRANT SELECT, INSERT, DELETE, REFERENCES, UPDATE ON EMPLOYEES TO SYSDBA WITH GRANT OPTION;


/* Privileges for the `ORDERDETAILS` :  */


GRANT SELECT, INSERT, DELETE, REFERENCES, UPDATE ON ORDERDETAILS TO SYSDBA WITH GRANT OPTION;


/* Privileges for the `ORDERS` :  */


GRANT SELECT, INSERT, DELETE, REFERENCES, UPDATE ON ORDERS TO SYSDBA WITH GRANT OPTION;


/* Privileges for the `PRODUCTS` :  */


GRANT SELECT, INSERT, DELETE, REFERENCES, UPDATE ON PRODUCTS TO SYSDBA WITH GRANT OPTION;


/* Privileges for the `SHIPPERS` :  */


GRANT SELECT, INSERT, DELETE, REFERENCES, UPDATE ON SHIPPERS TO SYSDBA WITH GRANT OPTION;


/* Privileges for the `SUPPLIERS` :  */


GRANT SELECT, INSERT, DELETE, REFERENCES, UPDATE ON SUPPLIERS TO SYSDBA WITH GRANT OPTION;

